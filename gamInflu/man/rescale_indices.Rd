% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rescale_indices.R
\name{rescale_indices}
\alias{rescale_indices}
\title{Rescale Influence Indices Across Groups}
\usage{
rescale_indices(
  obj,
  group_col = NULL,
  year_col = NULL,
  index_col = "standardised_index",
  lowerCI_col = "stan_lower",
  upperCI_col = "stan_upper",
  common_years_only = TRUE
)
}
\arguments{
\item{obj}{A \code{gam_influence} object that has been processed with \code{calculate_influence}, or a data frame containing influence indices.}

\item{group_col}{Character string specifying the column name that contains the grouping variable (e.g., "stock", "model_type"). Default is "level" for single-group analysis.}

\item{year_col}{Character string specifying the column name that contains the year/time variable. Default is "level" if the focus variable represents time.}

\item{index_col}{Character string specifying the column name that contains the index values to rescale. Default is "standardised_index".}

\item{lowerCI_col}{Character string specifying the column name that contains the lower confidence interval values. Default is "stan_lower".}

\item{upperCI_col}{Character string specifying the column name that contains the upper confidence interval values. Default is "stan_upper".}

\item{common_years_only}{Logical. If TRUE (default), only uses years present in all groups for calculating reference means. If FALSE, uses all available years for each group.}
}
\value{
A data frame with rescaled indices. If input was a \code{gam_influence} object, returns the object with rescaled indices in the \code{calculated$indices} data frame. If input was a data frame, returns the rescaled data frame.
}
\description{
Rescales influence indices across different groups (e.g., different model types or stocks) using common years as reference points. This function is useful when comparing influence indices from different models or datasets that may have different baseline levels.
}
\details{
This function rescales influence indices by:
1. Identifying common years across all groups (if \code{common_years_only = TRUE})
2. Calculating the mean index value for each group over the reference period
3. Dividing all index values by their respective group means

This approach allows for comparison of relative changes across different groups while accounting for different baseline levels.
}
\examples{
\dontrun{
# Assuming you have multiple models or datasets
data_list <- list(
  data.frame(year = 2010:2020, index = rnorm(11, 1, 0.1), stock = "StockA"),
  data.frame(year = 2010:2020, index = rnorm(11, 1.5, 0.1), stock = "StockB")
)
combined_data <- do.call(rbind, data_list)

# Rescale indices
rescaled <- rescale_indices(combined_data,
                                      group_col = "stock",
                                      year_col = "year",
                                      index_col = "index")
}
}
