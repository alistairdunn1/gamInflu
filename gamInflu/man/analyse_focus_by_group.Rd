% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyse_focus_by_group.R
\name{analyse_focus_by_group}
\alias{analyse_focus_by_group}
\title{Analyse Focus Effects by Grouping Variable}
\usage{
analyse_focus_by_group(
  model_formula,
  focus,
  grouping_var,
  data,
  groups = NULL,
  family = gaussian(),
  islog = NULL,
  ...
)
}
\arguments{
\item{model_formula}{A formula object or character string specifying the model structure.}

\item{focus}{A character string specifying the focus term (must be a factor).}

\item{grouping_var}{A character string specifying the grouping variable (must be a factor).}

\item{data}{A data frame containing all variables referenced in the model formula.}

\item{groups}{A character vector specifying which groups to analyse. If NULL, analyses all levels.}

\item{family}{A family specification for the GAM (default: gaussian()).}

\item{islog}{Logical indicating if response is log-transformed (passed to calculate_influence).}

\item{...}{Additional arguments passed to calculate_influence().}
}
\value{
An object of class 'gam_influence_comparison' containing influence analysis results
  for each group, with methods for plotting and summarizing results.
}
\description{
Performs influence analysis on subsets of data grouped by a categorical variable.
This allows analysis of how focus term effects (e.g., year trends) vary across different
levels of another variable (e.g., areas, gear types, species).
}
\details{
This function addresses the common need to analyse temporal or categorical trends
(focus effects) separately within different groups. For example:
- Annual CPUE trends by fishing area
- Species abundance trends by habitat type
- Treatment effects by experimental site

The function:
1. Subsets the data by each level of the grouping variable
2. Fits separate GAM models to each subset
3. Performs influence analysis on each model
4. Returns results in a structured format for comparison

**Family Support**: Supports all GLM families (Gaussian, binomial, gamma, Poisson)
with automatic family detection in each subset model.
}
\examples{
\dontrun{
library(mgcv)
library(gamInflu)

# Analyse year effects by area
comparison <- analyse_focus_by_group(
  model_formula = cpue ~ s(depth) + s(temperature) + year,
  focus = "year",
  grouping_var = "area",
  data = fisheries_data
)

# View results
summary(comparison)
plot(comparison, type = "standardisation")
plot(comparison, type = "comparison")
}
}
